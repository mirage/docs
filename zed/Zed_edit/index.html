<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Zed_edit (zed.Zed_edit)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v1.1.1-1373-g2e7c1c75"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">zed</a> &#x00BB; Zed_edit</nav><header><h1>Module <code>Zed_edit</code></h1><p>Edition engines</p></header><nav class="toc"><ul><li><a href="#state">State</a></li><li><a href="#cursors">Cursors</a></li><li><a href="#actions">Actions</a></li><li><a href="#action-by-names">Action by names</a></li></ul></nav><div class="content"><div><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>'a t</span></code></div><div><p>Type of edition engines. <code>'a</code> is the type of custom data attached to the engine in order to extend it.</p></div></div><div><div class="spec type" id="type-clipboard" class="anchored"><a href="#type-clipboard" class="anchor"></a><code><span class="keyword">type</span> clipboard = {</code><table><tr id="type-clipboard.clipboard_get" class="anchored"><td class="def record field"><a href="#type-clipboard.clipboard_get" class="anchor"></a><code>clipboard_get : unit <span>&#45;&gt;</span> <a href="../Zed_rope/index.html#type-t">Zed_rope.t</a>;</code></td><td class="doc"><p>Returns the current contents of the clipboard.</p></td></tr><tr id="type-clipboard.clipboard_set" class="anchored"><td class="def record field"><a href="#type-clipboard.clipboard_set" class="anchor"></a><code>clipboard_set : <a href="../Zed_rope/index.html#type-t">Zed_rope.t</a> <span>&#45;&gt;</span> unit;</code></td><td class="doc"><p>Sets the contents of the clipboard.</p></td></tr></table><code>}</code></div><div><p>Type of clipboards.</p></div></div><div><div class="spec value" id="val-new_clipboard" class="anchored"><a href="#val-new_clipboard" class="anchor"></a><code><span class="keyword">val</span> new_clipboard : unit <span>&#45;&gt;</span> <a href="index.html#type-clipboard">clipboard</a></code></div><div><p><code>new_clipboard ()</code> creates a new clipboard using a reference.</p></div></div><div><div class="spec value" id="val-regexp_word_core" class="anchored"><a href="#val-regexp_word_core" class="anchor"></a><code><span class="keyword">val</span> regexp_word_core : <a href="../Zed_re/Core/index.html#type-t">Zed_re.Core.t</a></code></div><div><p>regexp to core-match a word a-z, A-Z, 0-9</p></div></div><div><div class="spec value" id="val-regexp_word_raw" class="anchored"><a href="#val-regexp_word_raw" class="anchor"></a><code><span class="keyword">val</span> regexp_word_raw : <a href="../Zed_re/Raw/index.html#type-t">Zed_re.Raw.t</a></code></div><div><p>regexp to raw-match a word a-z, A-Z, 0-9</p></div></div><div><div class="spec value" id="val-create" class="anchored"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : <span>?&#8288;editable:<span>(int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> bool)</span></span> <span>&#45;&gt;</span> <span>?&#8288;move:<span>(int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int)</span></span> <span>&#45;&gt;</span> <span>?&#8288;clipboard:<a href="index.html#type-clipboard">clipboard</a></span> <span>&#45;&gt;</span> <span>?&#8288;match_word:<span>(<a href="../Zed_rope/index.html#type-t">Zed_rope.t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span>int option</span>)</span></span> <span>&#45;&gt;</span> <span>?&#8288;locale:<span><span>string option</span> <a href="../../react/React/index.html#type-signal">React.signal</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;undo_size:int</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></div><div><p><code>create ?editable ?move ?clipboard ()</code> creates a new edition engine in the initial state.</p><p><code>editable</code> is used to determine whether the text at given position is editable or not. It takes as argument the position and the length of the text to remove.</p><p><code>move</code> is unused.</p><p><code>clipboard</code> is the clipboard to use for this engine. If none is defined, a new one using a reference is created.</p><p><code>match_word</code> is used to recognize words. It must returns the end of the matched word if any.</p><p><code>locale</code> is the locale of this buffer. It is used for case mapping.</p><p><code>undo_size</code> is the size of the undo buffer. It is the number of state zed will remember. It defaults to <code>1000</code>.</p></div></div><div><div class="spec value" id="val-match_by_regexp_core" class="anchored"><a href="#val-match_by_regexp_core" class="anchor"></a><code><span class="keyword">val</span> match_by_regexp_core : <a href="../Zed_re/Core/index.html#type-t">Zed_re.Core.t</a> <span>&#45;&gt;</span> <a href="../Zed_rope/index.html#type-t">Zed_rope.t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span>int option</span></code></div><div><p><code>match_by_regexp_core re</code> creates a core-word-matching function using a regular expression.</p></div></div><div><div class="spec value" id="val-match_by_regexp_raw" class="anchored"><a href="#val-match_by_regexp_raw" class="anchor"></a><code><span class="keyword">val</span> match_by_regexp_raw : <a href="../Zed_re/Raw/index.html#type-t">Zed_re.Raw.t</a> <span>&#45;&gt;</span> <a href="../Zed_rope/index.html#type-t">Zed_rope.t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span>int option</span></code></div><div><p><code>match_by_regexp_raw re</code> creates a raw-word-matching function using a regular expression.</p></div></div><h6 id="state"><a href="#state" class="anchor"></a>State</h6><div><div class="spec value" id="val-get_data" class="anchored"><a href="#val-get_data" class="anchor"></a><code><span class="keyword">val</span> get_data : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></div><div><p><code>get_data edit</code> returns the custom data attached to the engine. It raises <code>Not_found</code> if no data is attached to the engine.</p></div></div><div><div class="spec value" id="val-set_data" class="anchored"><a href="#val-set_data" class="anchor"></a><code><span class="keyword">val</span> set_data : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit</code></div><div><p><code>set_data edit data</code> attach <code>data</code> to the engine.</p></div></div><div><div class="spec value" id="val-clear_data" class="anchored"><a href="#val-clear_data" class="anchor"></a><code><span class="keyword">val</span> clear_data : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>clear_data edit</code> removes the custom data of engine.</p></div></div><div><div class="spec value" id="val-text" class="anchored"><a href="#val-text" class="anchor"></a><code><span class="keyword">val</span> text : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../Zed_rope/index.html#type-t">Zed_rope.t</a></code></div><div><p><code>text edit</code> returns the signal holding the current contents of the buffer.</p></div></div><div><div class="spec value" id="val-lines" class="anchored"><a href="#val-lines" class="anchor"></a><code><span class="keyword">val</span> lines : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../Zed_lines/index.html#type-t">Zed_lines.t</a></code></div><div><p><code>lines edit</code> returns the set of line position of <code>text edit</code>.</p></div></div><div><div class="spec value" id="val-get_line" class="anchored"><a href="#val-get_line" class="anchor"></a><code><span class="keyword">val</span> get_line : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="../Zed_rope/index.html#type-t">Zed_rope.t</a></code></div><div><p><code>get_line edit n</code> returns the rope corresponding to the <code>n</code>th line without the newline character.</p></div></div><div><div class="spec value" id="val-changes" class="anchored"><a href="#val-changes" class="anchor"></a><code><span class="keyword">val</span> changes : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><a href="../Zed_cursor/index.html#type-changes">Zed_cursor.changes</a> <a href="../../react/React/index.html#type-event">React.event</a></span></code></div><div><p><code>changes edit</code> returns an event which occurs with values of the form <code>(start, added, removed)</code> when the contents of the engine changes. <code>start</code> is the start of modifications, <code>added</code> is the number of characters added and <code>removed</code> is the number of characters removed.</p></div></div><div><div class="spec value" id="val-update" class="anchored"><a href="#val-update" class="anchor"></a><code><span class="keyword">val</span> update : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><a href="../Zed_cursor/index.html#type-t">Zed_cursor.t</a> list</span> <span>&#45;&gt;</span> <span>unit <a href="../../react/React/index.html#type-event">React.event</a></span></code></div><div><p><code>update edit cursors</code> returns an event which occurs each the rendering of the engine should be updated.</p></div></div><div><div class="spec value" id="val-erase_mode" class="anchored"><a href="#val-erase_mode" class="anchor"></a><code><span class="keyword">val</span> erase_mode : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>bool <a href="../../react/React/index.html#type-signal">React.signal</a></span></code></div><div><p><code>erase_mode edit</code> returns the ``erase'' mode of the buffer. In this mode character inserted in the buffer erase existing ones.</p></div></div><div><div class="spec value" id="val-get_erase_mode" class="anchored"><a href="#val-get_erase_mode" class="anchor"></a><code><span class="keyword">val</span> get_erase_mode : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> bool</code></div><div><p><code>erase_mode edit</code> returns the current erase mode of the buffer.</p></div></div><div><div class="spec value" id="val-set_erase_mode" class="anchored"><a href="#val-set_erase_mode" class="anchor"></a><code><span class="keyword">val</span> set_erase_mode : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> unit</code></div><div><p><code>set_erase_mode edit state</code> sets the status of the erase mode for the given engine.</p></div></div><div><div class="spec value" id="val-mark" class="anchored"><a href="#val-mark" class="anchor"></a><code><span class="keyword">val</span> mark : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../Zed_cursor/index.html#type-t">Zed_cursor.t</a></code></div><div><p><code>mark edit</code> returns the cursor used to for the mark in the given engine.</p></div></div><div><div class="spec value" id="val-selection" class="anchored"><a href="#val-selection" class="anchor"></a><code><span class="keyword">val</span> selection : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>bool <a href="../../react/React/index.html#type-signal">React.signal</a></span></code></div><div><p><code>selection edit</code> returns the signal holding the current selection state. If <code>true</code>, text is being selectionned.</p></div></div><div><div class="spec value" id="val-get_selection" class="anchored"><a href="#val-get_selection" class="anchor"></a><code><span class="keyword">val</span> get_selection : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> bool</code></div><div><p><code>selection edit</code> returns the current selection state.</p></div></div><div><div class="spec value" id="val-set_selection" class="anchored"><a href="#val-set_selection" class="anchor"></a><code><span class="keyword">val</span> set_selection : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> unit</code></div><div><p><code>set_selection edit state</code> sets the selection state.</p></div></div><h6 id="cursors"><a href="#cursors" class="anchor"></a>Cursors</h6><div><div class="spec value" id="val-new_cursor" class="anchored"><a href="#val-new_cursor" class="anchor"></a><code><span class="keyword">val</span> new_cursor : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../Zed_cursor/index.html#type-t">Zed_cursor.t</a></code></div><div><p><code>new_cursor edit</code> creates a new cursor for the given edition engine. The cursor initially points to the beginning of the buffer.</p></div></div><h6 id="actions"><a href="#actions" class="anchor"></a>Actions</h6><div><div class="spec exception" id="exception-Cannot_edit" class="anchored"><a href="#exception-Cannot_edit" class="anchor"></a><code><span class="keyword">exception</span> <span class="exception">Cannot_edit</span></code></div><div><p>Exception raised when trying to edit a non-editable portion of a buffer.</p></div></div><div><div class="spec type" id="type-context" class="anchored"><a href="#type-context" class="anchor"></a><code><span class="keyword">type</span> <span>'a context</span></code></div><div><p>Type of contexts. Contexts are used to modify an edition buffer.</p></div></div><div><div class="spec value" id="val-context" class="anchored"><a href="#val-context" class="anchor"></a><code><span class="keyword">val</span> context : <span>?&#8288;check:bool</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../Zed_cursor/index.html#type-t">Zed_cursor.t</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span></code></div><div><p><code>context ?check edit cursor</code> creates a new context with given parameters. <code>cursor</code> is the cursor that will be used for all modification of the text. If <code>check</code> is <code>true</code> (the default) then all modification of the text will be checked with the <code>editable</code> function of the engine.</p></div></div><div><div class="spec value" id="val-edit" class="anchored"><a href="#val-edit" class="anchor"></a><code><span class="keyword">val</span> edit : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></div><div><p><code>edit ctx</code> returns the edition engine used by the given context.</p></div></div><div><div class="spec value" id="val-cursor" class="anchored"><a href="#val-cursor" class="anchor"></a><code><span class="keyword">val</span> cursor : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> <a href="../Zed_cursor/index.html#type-t">Zed_cursor.t</a></code></div><div><p><code>cursor ctx</code> returns the cursor used by this context.</p></div></div><div><div class="spec value" id="val-check" class="anchored"><a href="#val-check" class="anchor"></a><code><span class="keyword">val</span> check : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> bool</code></div><div><p><code>check ctx</code> returns whether the context has been created with the <code>check</code> flag.</p></div></div><div><div class="spec value" id="val-with_check" class="anchored"><a href="#val-with_check" class="anchor"></a><code><span class="keyword">val</span> with_check : bool <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span></code></div><div><p><code>with_check check ctx</code> retuns <code>ctx</code> with the check flag set to <code>check</code>.</p></div></div><div><div class="spec value" id="val-goto" class="anchored"><a href="#val-goto" class="anchor"></a><code><span class="keyword">val</span> goto : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> <span>?&#8288;set_wanted_column:bool</span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></div><div><p><code>goto ctx ?set_column position</code> moves the cursor to the given position. It raises <a href="../Zed_cursor/index.html#exception-Out_of_bounds"><code>Zed_cursor.Out_of_bounds</code></a> if the position is outside the bounds of the text. If <code>set_wanted_column</code> is <code>true</code>, the wanted column of the cursor is set to the new column.</p></div></div><div><div class="spec value" id="val-move" class="anchored"><a href="#val-move" class="anchor"></a><code><span class="keyword">val</span> move : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> <span>?&#8288;set_wanted_column:bool</span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></div><div><p><code>move ctx ?set_wanted_column delta</code> moves the cursor by the given number of characters. It raises <a href="../Zed_cursor/index.html#exception-Out_of_bounds"><code>Zed_cursor.Out_of_bounds</code></a> if the current plus <code>delta</code> is outside the bounds of the text.</p></div></div><div><div class="spec value" id="val-move_line" class="anchored"><a href="#val-move_line" class="anchor"></a><code><span class="keyword">val</span> move_line : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></div><div><p><code>move_line ctx ?set_wanted_column delta</code> moves the cursor by the given number of lines.</p></div></div><div><div class="spec value" id="val-position" class="anchored"><a href="#val-position" class="anchor"></a><code><span class="keyword">val</span> position : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> int</code></div><div><p><code>position ctx</code> returns the position of the cursor.</p></div></div><div><div class="spec value" id="val-line" class="anchored"><a href="#val-line" class="anchor"></a><code><span class="keyword">val</span> line : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> int</code></div><div><p><code>line ctx</code> returns the line of the cursor.</p></div></div><div><div class="spec value" id="val-column" class="anchored"><a href="#val-column" class="anchor"></a><code><span class="keyword">val</span> column : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> int</code></div><div><p><code>column ctx</code> returns the column of the cursor.</p></div></div><div><div class="spec value" id="val-column_display" class="anchored"><a href="#val-column_display" class="anchor"></a><code><span class="keyword">val</span> column_display : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> int</code></div><div><p><code>column_display ctx</code> returns the display column of the cursor.</p></div></div><div><div class="spec value" id="val-at_bol" class="anchored"><a href="#val-at_bol" class="anchor"></a><code><span class="keyword">val</span> at_bol : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> bool</code></div><div><p><code>at_bol ctx</code> returns <code>true</code> iff the cursor is at the beginning of the current line.</p></div></div><div><div class="spec value" id="val-at_eol" class="anchored"><a href="#val-at_eol" class="anchor"></a><code><span class="keyword">val</span> at_eol : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> bool</code></div><div><p><code>at_eol ctx</code> returns <code>true</code> iff the cursor is at the end of the current line.</p></div></div><div><div class="spec value" id="val-at_bot" class="anchored"><a href="#val-at_bot" class="anchor"></a><code><span class="keyword">val</span> at_bot : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> bool</code></div><div><p><code>at_bot ctx</code> returns <code>true</code> iff the cursor is at the beginning of the text.</p></div></div><div><div class="spec value" id="val-at_eot" class="anchored"><a href="#val-at_eot" class="anchor"></a><code><span class="keyword">val</span> at_eot : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> bool</code></div><div><p><code>at_eot ctx</code> returns <code>true</code> iff the cursor is at the end of the text.</p></div></div><div><div class="spec value" id="val-insert" class="anchored"><a href="#val-insert" class="anchor"></a><code><span class="keyword">val</span> insert : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> <a href="../Zed_rope/index.html#type-t">Zed_rope.t</a> <span>&#45;&gt;</span> unit</code></div><div><p><code>insert ctx rope</code> inserts the given rope at current position.</p></div></div><div><div class="spec value" id="val-insert_char" class="anchored"><a href="#val-insert_char" class="anchor"></a><code><span class="keyword">val</span> insert_char : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> <a href="../../camomile/CamomileLibrary/UChar/index.html#type-t">CamomileLibrary.UChar.t</a> <span>&#45;&gt;</span> unit</code></div><div><p><code>insert ctx rope</code> inserts the given UChar at current position.</p></div></div><div><div class="spec value" id="val-insert_no_erase" class="anchored"><a href="#val-insert_no_erase" class="anchor"></a><code><span class="keyword">val</span> insert_no_erase : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> <a href="../Zed_rope/index.html#type-t">Zed_rope.t</a> <span>&#45;&gt;</span> unit</code></div><div><p><code>insert ctx rope</code> inserts the given rope at current position but do not erase text if the buffer is currently in erase mode.</p></div></div><div><div class="spec value" id="val-remove_next" class="anchored"><a href="#val-remove_next" class="anchor"></a><code><span class="keyword">val</span> remove_next : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></div><div><p><code>remove_next ctx n</code> removes <code>n</code> characters at current position. If there is less than <code>n</code> characters at current position, it removes everything until the end of the text.</p></div></div><div><div class="spec value" id="val-remove_prev" class="anchored"><a href="#val-remove_prev" class="anchor"></a><code><span class="keyword">val</span> remove_prev : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></div><div><p><code>remove_prev ctx n</code> removes <code>n</code> characters before current position. If there is less than <code>n</code> characters before current position, it removes everything until the beginning of the text.</p></div></div><div><div class="spec value" id="val-remove" class="anchored"><a href="#val-remove" class="anchor"></a><code><span class="keyword">val</span> remove : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></div><div><p>Alias for <a href="index.html#val-remove_next"><code>remove_next</code></a></p></div></div><div><div class="spec value" id="val-replace" class="anchored"><a href="#val-replace" class="anchor"></a><code><span class="keyword">val</span> replace : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="../Zed_rope/index.html#type-t">Zed_rope.t</a> <span>&#45;&gt;</span> unit</code></div><div><p><code>replace ctx n rope</code> does the same as:</p><pre><code>remove ctx n;
insert_no_erase ctx rope</code></pre><p>but in one atomic operation.</p></div></div><div><div class="spec value" id="val-newline" class="anchored"><a href="#val-newline" class="anchor"></a><code><span class="keyword">val</span> newline : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p>Insert a newline character.</p></div></div><div><div class="spec value" id="val-next_char" class="anchored"><a href="#val-next_char" class="anchor"></a><code><span class="keyword">val</span> next_char : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>next_char ctx</code> moves the cursor to the next character. It does nothing if the cursor is at the end of the text.</p></div></div><div><div class="spec value" id="val-prev_char" class="anchored"><a href="#val-prev_char" class="anchor"></a><code><span class="keyword">val</span> prev_char : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>prev_char ctx</code> moves the cursor to the previous character. It does nothing if the cursor is at the beginning of the text.</p></div></div><div><div class="spec value" id="val-next_line" class="anchored"><a href="#val-next_line" class="anchor"></a><code><span class="keyword">val</span> next_line : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>next_line ctx</code> moves the cursor to the next line. If the cursor is on the last line, it is moved to the end of the buffer.</p></div></div><div><div class="spec value" id="val-prev_line" class="anchored"><a href="#val-prev_line" class="anchor"></a><code><span class="keyword">val</span> prev_line : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>prev_line ctx</code> moves the cursor to the previous line. If the cursor is on the first line, it is moved to the beginning of the buffer.</p></div></div><div><div class="spec value" id="val-goto_bol" class="anchored"><a href="#val-goto_bol" class="anchor"></a><code><span class="keyword">val</span> goto_bol : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>goto_bol ctx</code> moves the cursor to the beginning of the current line.</p></div></div><div><div class="spec value" id="val-goto_eol" class="anchored"><a href="#val-goto_eol" class="anchor"></a><code><span class="keyword">val</span> goto_eol : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>goto_eol ctx</code> moves the cursor to the end of the current line.</p></div></div><div><div class="spec value" id="val-goto_bot" class="anchored"><a href="#val-goto_bot" class="anchor"></a><code><span class="keyword">val</span> goto_bot : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>goto_bot ctx</code> moves the cursor to the beginning of the text.</p></div></div><div><div class="spec value" id="val-goto_eot" class="anchored"><a href="#val-goto_eot" class="anchor"></a><code><span class="keyword">val</span> goto_eot : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>goto_eot ctx</code> moves the cursor to the end of the text.</p></div></div><div><div class="spec value" id="val-delete_next_char" class="anchored"><a href="#val-delete_next_char" class="anchor"></a><code><span class="keyword">val</span> delete_next_char : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>delete_next_char ctx</code> deletes the character after the cursor, if any.</p></div></div><div><div class="spec value" id="val-delete_prev_char" class="anchored"><a href="#val-delete_prev_char" class="anchor"></a><code><span class="keyword">val</span> delete_prev_char : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>delete_prev_char ctx</code> delete the character before the cursor.</p></div></div><div><div class="spec value" id="val-delete_next_line" class="anchored"><a href="#val-delete_next_line" class="anchor"></a><code><span class="keyword">val</span> delete_next_line : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>delete_next_line ctx</code> delete everything until the end of the current line.</p></div></div><div><div class="spec value" id="val-delete_prev_line" class="anchored"><a href="#val-delete_prev_line" class="anchor"></a><code><span class="keyword">val</span> delete_prev_line : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>delete_next_line ctx</code> delete everything until the beginning of the current line.</p></div></div><div><div class="spec value" id="val-kill_next_line" class="anchored"><a href="#val-kill_next_line" class="anchor"></a><code><span class="keyword">val</span> kill_next_line : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>kill_next_line ctx</code> delete everything until the end of the current line and save it to the clipboard.</p></div></div><div><div class="spec value" id="val-kill_prev_line" class="anchored"><a href="#val-kill_prev_line" class="anchor"></a><code><span class="keyword">val</span> kill_prev_line : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>kill_next_line ctx</code> delete everything until the beginning of the current line and save it to the clipboard.</p></div></div><div><div class="spec value" id="val-switch_erase_mode" class="anchored"><a href="#val-switch_erase_mode" class="anchor"></a><code><span class="keyword">val</span> switch_erase_mode : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>switch_erase_mode ctx</code> switch the current erase mode.</p></div></div><div><div class="spec value" id="val-set_mark" class="anchored"><a href="#val-set_mark" class="anchor"></a><code><span class="keyword">val</span> set_mark : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>set_mark ctx</code> sets the mark at current position.</p></div></div><div><div class="spec value" id="val-goto_mark" class="anchored"><a href="#val-goto_mark" class="anchor"></a><code><span class="keyword">val</span> goto_mark : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>goto_mark ctx</code> moves the cursor to the mark.</p></div></div><div><div class="spec value" id="val-copy" class="anchored"><a href="#val-copy" class="anchor"></a><code><span class="keyword">val</span> copy : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>copy ctx</code> copies the current selectionned region to the clipboard.</p></div></div><div><div class="spec value" id="val-copy_sequence" class="anchored"><a href="#val-copy_sequence" class="anchor"></a><code><span class="keyword">val</span> copy_sequence : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></div><div><p><code>copy_sequence ctx start len</code> copies <code>len</code> characters start from <code>start</code> to the clipboard.</p></div></div><div><div class="spec value" id="val-kill" class="anchored"><a href="#val-kill" class="anchor"></a><code><span class="keyword">val</span> kill : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>kill ctx</code> copies the current selectionned region to the clipboard and remove it.</p></div></div><div><div class="spec value" id="val-yank" class="anchored"><a href="#val-yank" class="anchor"></a><code><span class="keyword">val</span> yank : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>yank ctx</code> inserts the contents of the clipboard at current position.</p></div></div><div><div class="spec value" id="val-capitalize_word" class="anchored"><a href="#val-capitalize_word" class="anchor"></a><code><span class="keyword">val</span> capitalize_word : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>capitalize_word ctx</code> capitalizes the first word after the cursor.</p></div></div><div><div class="spec value" id="val-lowercase_word" class="anchored"><a href="#val-lowercase_word" class="anchor"></a><code><span class="keyword">val</span> lowercase_word : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>lowercase_word ctx</code> converts the first word after the cursor to lowercase.</p></div></div><div><div class="spec value" id="val-uppercase_word" class="anchored"><a href="#val-uppercase_word" class="anchor"></a><code><span class="keyword">val</span> uppercase_word : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>uppercase_word ctx</code> converts the first word after the cursor to uppercase.</p></div></div><div><div class="spec value" id="val-next_word" class="anchored"><a href="#val-next_word" class="anchor"></a><code><span class="keyword">val</span> next_word : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>next_word ctx</code> moves the cursor to the end of the next word.</p></div></div><div><div class="spec value" id="val-prev_word" class="anchored"><a href="#val-prev_word" class="anchor"></a><code><span class="keyword">val</span> prev_word : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>prev_word ctx</code> moves the cursor to the beginning of the previous word.</p></div></div><div><div class="spec value" id="val-delete_next_word" class="anchored"><a href="#val-delete_next_word" class="anchor"></a><code><span class="keyword">val</span> delete_next_word : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>delete_next_word ctx</code> deletes the word after the cursor.</p></div></div><div><div class="spec value" id="val-delete_prev_word" class="anchored"><a href="#val-delete_prev_word" class="anchor"></a><code><span class="keyword">val</span> delete_prev_word : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>delete_prev_word ctx</code> deletes the word before the cursor.</p></div></div><div><div class="spec value" id="val-kill_next_word" class="anchored"><a href="#val-kill_next_word" class="anchor"></a><code><span class="keyword">val</span> kill_next_word : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>kill_next_word ctx</code> deletes the word after the cursor and save it to the clipboard.</p></div></div><div><div class="spec value" id="val-kill_prev_word" class="anchored"><a href="#val-kill_prev_word" class="anchor"></a><code><span class="keyword">val</span> kill_prev_word : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>kill_prev_word ctx</code> deletes the word before the cursor and save it to the clipboard.</p></div></div><div><div class="spec value" id="val-undo" class="anchored"><a href="#val-undo" class="anchor"></a><code><span class="keyword">val</span> undo : <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>undo ctx</code> reverts the last performed action.</p></div></div><h6 id="action-by-names"><a href="#action-by-names" class="anchor"></a>Action by names</h6><div><div class="spec type" id="type-action" class="anchored"><a href="#type-action" class="anchor"></a><code><span class="keyword">type</span> action = </code><table><tr id="type-action.Insert" class="anchored"><td class="def variant constructor"><a href="#type-action.Insert" class="anchor"></a><code>| <span class="constructor">Insert</span> <span class="keyword">of</span> <a href="../Zed_char/index.html#type-t">Zed_char.t</a></code></td></tr><tr id="type-action.Insert_str" class="anchored"><td class="def variant constructor"><a href="#type-action.Insert_str" class="anchor"></a><code>| <span class="constructor">Insert_str</span> <span class="keyword">of</span> <a href="../Zed_string/index.html#type-t">Zed_string.t</a></code></td></tr><tr id="type-action.Newline" class="anchored"><td class="def variant constructor"><a href="#type-action.Newline" class="anchor"></a><code>| <span class="constructor">Newline</span></code></td></tr><tr id="type-action.Next_char" class="anchored"><td class="def variant constructor"><a href="#type-action.Next_char" class="anchor"></a><code>| <span class="constructor">Next_char</span></code></td></tr><tr id="type-action.Prev_char" class="anchored"><td class="def variant constructor"><a href="#type-action.Prev_char" class="anchor"></a><code>| <span class="constructor">Prev_char</span></code></td></tr><tr id="type-action.Next_line" class="anchored"><td class="def variant constructor"><a href="#type-action.Next_line" class="anchor"></a><code>| <span class="constructor">Next_line</span></code></td></tr><tr id="type-action.Prev_line" class="anchored"><td class="def variant constructor"><a href="#type-action.Prev_line" class="anchor"></a><code>| <span class="constructor">Prev_line</span></code></td></tr><tr id="type-action.Join_line" class="anchored"><td class="def variant constructor"><a href="#type-action.Join_line" class="anchor"></a><code>| <span class="constructor">Join_line</span></code></td></tr><tr id="type-action.Set_pos" class="anchored"><td class="def variant constructor"><a href="#type-action.Set_pos" class="anchor"></a><code>| <span class="constructor">Set_pos</span> <span class="keyword">of</span> int</code></td></tr><tr id="type-action.Goto" class="anchored"><td class="def variant constructor"><a href="#type-action.Goto" class="anchor"></a><code>| <span class="constructor">Goto</span> <span class="keyword">of</span> int</code></td></tr><tr id="type-action.Goto_bol" class="anchored"><td class="def variant constructor"><a href="#type-action.Goto_bol" class="anchor"></a><code>| <span class="constructor">Goto_bol</span></code></td></tr><tr id="type-action.Goto_eol" class="anchored"><td class="def variant constructor"><a href="#type-action.Goto_eol" class="anchor"></a><code>| <span class="constructor">Goto_eol</span></code></td></tr><tr id="type-action.Goto_bot" class="anchored"><td class="def variant constructor"><a href="#type-action.Goto_bot" class="anchor"></a><code>| <span class="constructor">Goto_bot</span></code></td></tr><tr id="type-action.Goto_eot" class="anchored"><td class="def variant constructor"><a href="#type-action.Goto_eot" class="anchor"></a><code>| <span class="constructor">Goto_eot</span></code></td></tr><tr id="type-action.Delete_next_chars" class="anchored"><td class="def variant constructor"><a href="#type-action.Delete_next_chars" class="anchor"></a><code>| <span class="constructor">Delete_next_chars</span> <span class="keyword">of</span> int</code></td></tr><tr id="type-action.Delete_prev_chars" class="anchored"><td class="def variant constructor"><a href="#type-action.Delete_prev_chars" class="anchor"></a><code>| <span class="constructor">Delete_prev_chars</span> <span class="keyword">of</span> int</code></td></tr><tr id="type-action.Kill_next_chars" class="anchored"><td class="def variant constructor"><a href="#type-action.Kill_next_chars" class="anchor"></a><code>| <span class="constructor">Kill_next_chars</span> <span class="keyword">of</span> int</code></td></tr><tr id="type-action.Kill_prev_chars" class="anchored"><td class="def variant constructor"><a href="#type-action.Kill_prev_chars" class="anchor"></a><code>| <span class="constructor">Kill_prev_chars</span> <span class="keyword">of</span> int</code></td></tr><tr id="type-action.Delete_next_char" class="anchored"><td class="def variant constructor"><a href="#type-action.Delete_next_char" class="anchor"></a><code>| <span class="constructor">Delete_next_char</span></code></td></tr><tr id="type-action.Delete_prev_char" class="anchored"><td class="def variant constructor"><a href="#type-action.Delete_prev_char" class="anchor"></a><code>| <span class="constructor">Delete_prev_char</span></code></td></tr><tr id="type-action.Delete_next_line" class="anchored"><td class="def variant constructor"><a href="#type-action.Delete_next_line" class="anchor"></a><code>| <span class="constructor">Delete_next_line</span></code></td></tr><tr id="type-action.Delete_prev_line" class="anchored"><td class="def variant constructor"><a href="#type-action.Delete_prev_line" class="anchor"></a><code>| <span class="constructor">Delete_prev_line</span></code></td></tr><tr id="type-action.Kill_next_line" class="anchored"><td class="def variant constructor"><a href="#type-action.Kill_next_line" class="anchor"></a><code>| <span class="constructor">Kill_next_line</span></code></td></tr><tr id="type-action.Kill_prev_line" class="anchored"><td class="def variant constructor"><a href="#type-action.Kill_prev_line" class="anchor"></a><code>| <span class="constructor">Kill_prev_line</span></code></td></tr><tr id="type-action.Switch_erase_mode" class="anchored"><td class="def variant constructor"><a href="#type-action.Switch_erase_mode" class="anchor"></a><code>| <span class="constructor">Switch_erase_mode</span></code></td></tr><tr id="type-action.Set_mark" class="anchored"><td class="def variant constructor"><a href="#type-action.Set_mark" class="anchor"></a><code>| <span class="constructor">Set_mark</span></code></td></tr><tr id="type-action.Goto_mark" class="anchored"><td class="def variant constructor"><a href="#type-action.Goto_mark" class="anchor"></a><code>| <span class="constructor">Goto_mark</span></code></td></tr><tr id="type-action.Copy" class="anchored"><td class="def variant constructor"><a href="#type-action.Copy" class="anchor"></a><code>| <span class="constructor">Copy</span></code></td></tr><tr id="type-action.Kill" class="anchored"><td class="def variant constructor"><a href="#type-action.Kill" class="anchor"></a><code>| <span class="constructor">Kill</span></code></td></tr><tr id="type-action.Yank" class="anchored"><td class="def variant constructor"><a href="#type-action.Yank" class="anchor"></a><code>| <span class="constructor">Yank</span></code></td></tr><tr id="type-action.Capitalize_word" class="anchored"><td class="def variant constructor"><a href="#type-action.Capitalize_word" class="anchor"></a><code>| <span class="constructor">Capitalize_word</span></code></td></tr><tr id="type-action.Lowercase_word" class="anchored"><td class="def variant constructor"><a href="#type-action.Lowercase_word" class="anchor"></a><code>| <span class="constructor">Lowercase_word</span></code></td></tr><tr id="type-action.Uppercase_word" class="anchored"><td class="def variant constructor"><a href="#type-action.Uppercase_word" class="anchor"></a><code>| <span class="constructor">Uppercase_word</span></code></td></tr><tr id="type-action.Next_word" class="anchored"><td class="def variant constructor"><a href="#type-action.Next_word" class="anchor"></a><code>| <span class="constructor">Next_word</span></code></td></tr><tr id="type-action.Prev_word" class="anchored"><td class="def variant constructor"><a href="#type-action.Prev_word" class="anchor"></a><code>| <span class="constructor">Prev_word</span></code></td></tr><tr id="type-action.Delete_next_word" class="anchored"><td class="def variant constructor"><a href="#type-action.Delete_next_word" class="anchor"></a><code>| <span class="constructor">Delete_next_word</span></code></td></tr><tr id="type-action.Delete_prev_word" class="anchored"><td class="def variant constructor"><a href="#type-action.Delete_prev_word" class="anchor"></a><code>| <span class="constructor">Delete_prev_word</span></code></td></tr><tr id="type-action.Kill_next_word" class="anchored"><td class="def variant constructor"><a href="#type-action.Kill_next_word" class="anchor"></a><code>| <span class="constructor">Kill_next_word</span></code></td></tr><tr id="type-action.Kill_prev_word" class="anchored"><td class="def variant constructor"><a href="#type-action.Kill_prev_word" class="anchor"></a><code>| <span class="constructor">Kill_prev_word</span></code></td></tr><tr id="type-action.Undo" class="anchored"><td class="def variant constructor"><a href="#type-action.Undo" class="anchor"></a><code>| <span class="constructor">Undo</span></code></td></tr></table></div><div><p>Type of actions.</p></div></div><div><div class="spec value" id="val-get_action" class="anchored"><a href="#val-get_action" class="anchor"></a><code><span class="keyword">val</span> get_action : <a href="index.html#type-action">action</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-context">context</a></span> <span>&#45;&gt;</span> unit</code></div><div><p><code>get_action action</code> returns the function associated to the given action.</p></div></div><div><div class="spec value" id="val-actions" class="anchored"><a href="#val-actions" class="anchor"></a><code><span class="keyword">val</span> actions : <span><span>(<a href="index.html#type-action">action</a> * string)</span> list</span></code></div><div><p>List of actions with their names, except <a href="index.html#type-action.Insert"><code>Insert</code></a>.</p></div></div><div><div class="spec value" id="val-doc_of_action" class="anchored"><a href="#val-doc_of_action" class="anchor"></a><code><span class="keyword">val</span> doc_of_action : <a href="index.html#type-action">action</a> <span>&#45;&gt;</span> string</code></div><div><p><code>doc_of_action action</code> returns a short description of the action.</p></div></div><div><div class="spec value" id="val-action_of_name" class="anchored"><a href="#val-action_of_name" class="anchor"></a><code><span class="keyword">val</span> action_of_name : string <span>&#45;&gt;</span> <a href="index.html#type-action">action</a></code></div><div><p><code>action_of_name str</code> converts the given action name into an action. Action name are the same as function name but with '_' replaced by '-', number parameter replaced with &quot;(number)&quot;. It raises <code>Not_found</code> if the name does not correspond to an action.</p><p><code>Insert ch</code> is represented by &quot;insert(&lt;char&gt;)&quot; where <code>&lt;char&gt;</code> is:</p><ul><li>a literal ascii character, such as &quot;a&quot;, &quot;b&quot;, ...</li><li>a unicode character, written &quot;U+&lt; code &gt;&quot;, such as &quot;U+0041&quot;</li></ul><p><code>Insert_str str</code> is represented by &quot;insert-str(&lt;str&gt;)&quot; where <code>&lt;str&gt;</code> is raw utf8 string.</p></div></div><div><div class="spec value" id="val-name_of_action" class="anchored"><a href="#val-name_of_action" class="anchor"></a><code><span class="keyword">val</span> name_of_action : <a href="index.html#type-action">action</a> <span>&#45;&gt;</span> string</code></div><div><p><code>name_of_action act</code> returns the name of the given action.</p></div></div></div></body></html>