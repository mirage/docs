<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Path (b0.B00_std.Os.Path)</title><link rel="stylesheet" href="../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v1.1.1-1373-g2e7c1c75"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><nav><a href="../index.html">Up</a> – <a href="../../../index.html">b0</a> &#x00BB; <a href="../../index.html">B00_std</a> &#x00BB; <a href="../index.html">Os</a> &#x00BB; Path</nav><header><h1>Module <code>Os.Path</code></h1><p>File system path operations.</p><p>These functions operate on files and directories equally. Specific function operating on either kind of path are in the <a href="../File/index.html"><code>File</code></a> and <a href="../Dir/index.html"><code>Dir</code></a> modules.</p></header><nav class="toc"><ul><li><a href="#existence">Existence</a></li><li><a href="#renaming">Deleting and renaming</a></li><li><a href="#resolving">Resolving</a></li><li><a href="#copy">Copying</a></li><li><a href="#stat_mode">File mode and stat</a></li><li><a href="#symlinks">Symbolic links</a></li><li><a href="#tmppaths">Temporary paths</a></li></ul></nav><div class="content"><h2 id="existence"><a href="#existence" class="anchor"></a>Existence</h2><div><div class="spec value" id="val-exists" class="anchored"><a href="#val-exists" class="anchor"></a><code><span class="keyword">val</span> exists : <a href="../../Fpath/index.html#type-t">Fpath.t</a> <span>&#45;&gt;</span> <span><span>(bool, string)</span> <a href="../../../../ocaml/Stdlib/index.html#type-result">Stdlib.result</a></span></code></div><div><p><code>exists p</code> is <code>Ok true</code> if <code>p</code> exists in the file system and <code>Ok false</code> otherwise. Symbolic links are followed.</p></div></div><div><div class="spec value" id="val-must_exist" class="anchored"><a href="#val-must_exist" class="anchor"></a><code><span class="keyword">val</span> must_exist : <a href="../../Fpath/index.html#type-t">Fpath.t</a> <span>&#45;&gt;</span> <span><span>(unit, string)</span> <a href="../../../../ocaml/Stdlib/index.html#type-result">Stdlib.result</a></span></code></div><div><p><code>must_exist p</code> is <code>Ok ()</code> if <code>p</code> exists in the file system and an error otherwise. Symbolic links are followed.</p></div></div><h2 id="renaming"><a href="#renaming" class="anchor"></a>Deleting and renaming</h2><div><div class="spec value" id="val-delete" class="anchored"><a href="#val-delete" class="anchor"></a><code><span class="keyword">val</span> delete : <span>recurse:bool</span> <span>&#45;&gt;</span> <a href="../../Fpath/index.html#type-t">Fpath.t</a> <span>&#45;&gt;</span> <span><span>(bool, string)</span> <a href="../../../../ocaml/Stdlib/index.html#type-result">Stdlib.result</a></span></code></div><div><p><code>delete ~recurse p</code> deletes <code>p</code> from the file system. If <code>p</code> is a symbolic link this only deletes the link, not the linked object. If <code>recurse</code> is <code>true</code> and <code>p</code> is a non-empty directory, no error occurs, its contents is recursively deleted. The result is:</p><ul><li><code>Ok true</code>, if <code>p</code> existed and was deleted.</li><li><code>Ok false</code>, if the path <code>p</code> did not exist on the file system.</li><li><code>Error _ </code> in case of error, in particular if <code>p</code> is a non-empty directory and <code>recurse</code> is <code>false</code>.</li></ul><p>See also <a href="../File/index.html#val-delete"><code>File.delete</code></a>.</p></div></div><div><div class="spec value" id="val-rename" class="anchored"><a href="#val-rename" class="anchor"></a><code><span class="keyword">val</span> rename : <span>force:bool</span> <span>&#45;&gt;</span> <span>make_path:bool</span> <span>&#45;&gt;</span> <span>src:<a href="../../Fpath/index.html#type-t">Fpath.t</a></span> <span>&#45;&gt;</span> <a href="../../Fpath/index.html#type-t">Fpath.t</a> <span>&#45;&gt;</span> <span><span>(unit, string)</span> <a href="../../../../ocaml/Stdlib/index.html#type-result">Stdlib.result</a></span></code></div><div><p><code>rename ~force ~make_path ~src dst</code> renames <code>src</code> to <code>dst</code>.</p><ul><li>If <code>force</code> is <code>true</code> and <code>dst</code> exists it tries to delete it using <a href="../File/index.html#val-delete"><code>File.delete</code></a><code> dst</code>. If <code>force</code> is <code>false</code> and <code>dst</code> exists the function errors.</li><li>If <code>make_path</code> is <code>true</code> and the parent directory of <code>dst</code> does not exist the whole path to the parent is created as needed with permission <code>0o755</code> (readable and traversable by everyone, writable by the user).</li></ul></div></div><h2 id="resolving"><a href="#resolving" class="anchor"></a>Resolving</h2><div><div class="spec value" id="val-realpath" class="anchored"><a href="#val-realpath" class="anchor"></a><code><span class="keyword">val</span> realpath : <a href="../../Fpath/index.html#type-t">Fpath.t</a> <span>&#45;&gt;</span> <span><span>(<a href="../../Fpath/index.html#type-t">Fpath.t</a>, string)</span> <a href="../../../../ocaml/Stdlib/index.html#type-result">Stdlib.result</a></span></code></div><div><p><code>realpath p</code> expands all symbolic links and resolves all references to <code>.</code> and <code>..</code> segments. The function errors if <code>p</code> does not exist.</p></div></div><h2 id="copy"><a href="#copy" class="anchor"></a>Copying</h2><div><div class="spec value" id="val-copy" class="anchored"><a href="#val-copy" class="anchor"></a><code><span class="keyword">val</span> copy : <span>?&#8288;rel:bool</span> <span>&#45;&gt;</span> <span>?&#8288;atomic:bool</span> <span>&#45;&gt;</span> <span>?&#8288;follow_symlinks:bool</span> <span>&#45;&gt;</span> <span>?&#8288;prune:<span>(<a href="../../../../ocaml/Unix/index.html#type-stats">Unix.stats</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="../../Fpath/index.html#type-t">Fpath.t</a> <span>&#45;&gt;</span> bool)</span></span> <span>&#45;&gt;</span> <span>make_path:bool</span> <span>&#45;&gt;</span> <span>recurse:bool</span> <span>&#45;&gt;</span> <span>src:<a href="../../Fpath/index.html#type-t">Fpath.t</a></span> <span>&#45;&gt;</span> <a href="../../Fpath/index.html#type-t">Fpath.t</a> <span>&#45;&gt;</span> <span><span>(unit, string)</span> <a href="../../../../ocaml/Stdlib/index.html#type-result">Stdlib.result</a></span></code></div><div><p><code>copy ~make_path ~recurse ~src dst</code> copies the file or file hierarchy rooted at <code>src</code> to <code>dst</code>. The function errors if <code>dst</code> exists. The semantics and arguments correspond to those of <a href="../index.html#copy"><code>Os.Dir:copy</code></a>, except this function also works if <code>src</code> is not a directory. Note that <code>prune</code> is never called on <code>src</code> itself <b>FIXME is that a good idea ?</b> also <b>FIXME</b> this should error if <code>src</code> is a directory and <code>recurse</code> is false.</p><p>See also <a href="../index.html#copy"><code>Os.Dir:copy</code></a> and <a href="../File/index.html#val-copy"><code>Os.File.copy</code></a>.</p></div></div><h2 id="stat_mode"><a href="#stat_mode" class="anchor"></a>File mode and stat</h2><aside><p>See also <a href="../File/index.html#val-is_executable"><code>File.is_executable</code></a>.</p></aside><div><div class="spec value" id="val-get_mode" class="anchored"><a href="#val-get_mode" class="anchor"></a><code><span class="keyword">val</span> get_mode : <a href="../../Fpath/index.html#type-t">Fpath.t</a> <span>&#45;&gt;</span> <span><span>(int, string)</span> <a href="../../../../ocaml/Stdlib/index.html#type-result">Stdlib.result</a></span></code></div><div><p><code>get_mode p</code> is the file mode of <code>p</code>. Symbolic links are followed.</p></div></div><div><div class="spec value" id="val-set_mode" class="anchored"><a href="#val-set_mode" class="anchor"></a><code><span class="keyword">val</span> set_mode : <a href="../../Fpath/index.html#type-t">Fpath.t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><span>(unit, string)</span> <a href="../../../../ocaml/Stdlib/index.html#type-result">Stdlib.result</a></span></code></div><div><p><code>set_mode file p</code> sets the file mode of <code>file</code> to <code>p</code>. Symbolic links are followed.</p></div></div><div><div class="spec value" id="val-stat" class="anchored"><a href="#val-stat" class="anchor"></a><code><span class="keyword">val</span> stat : <a href="../../Fpath/index.html#type-t">Fpath.t</a> <span>&#45;&gt;</span> <span><span>(<a href="../../../../ocaml/Unix/index.html#type-stats">Unix.stats</a>, string)</span> <a href="../../../../ocaml/Stdlib/index.html#type-result">Stdlib.result</a></span></code></div><div><p><code>stat p</code> is <code>p</code>'s file information. Symbolic links are followed.</p></div></div><h2 id="symlinks"><a href="#symlinks" class="anchor"></a>Symbolic links</h2><aside><p>For hard links see <a href="../index.html#hard_links"><code>File:hard_links</code></a>.</p></aside><div><div class="spec value" id="val-symlink" class="anchored"><a href="#val-symlink" class="anchor"></a><code><span class="keyword">val</span> symlink : <span>force:bool</span> <span>&#45;&gt;</span> <span>make_path:bool</span> <span>&#45;&gt;</span> <span>src:<a href="../../Fpath/index.html#type-t">Fpath.t</a></span> <span>&#45;&gt;</span> <a href="../../Fpath/index.html#type-t">Fpath.t</a> <span>&#45;&gt;</span> <span><span>(unit, string)</span> <a href="../../../../ocaml/Stdlib/index.html#type-result">Stdlib.result</a></span></code></div><div><p><code>symlink ~force ~src p</code> symbolically links <code>src</code> to <code>p</code>.</p><ul><li>If <code>force</code> is <code>true</code> and <code>p</code> exists it tries to delete it using <a href="../File/index.html#val-delete"><code>File.delete</code></a><code> p</code>. If <code>force</code> is <code>false</code> and <code>p</code> exists the function errors.</li><li>If <code>make_path</code> is <code>true</code> and the parent directory of <code>file</code> does not exist the whole path to the parent is created as needed with permission <code>0o755</code> (readable and traversable by everyone, writable by the user).</li></ul></div></div><div><div class="spec value" id="val-symlink_link" class="anchored"><a href="#val-symlink_link" class="anchor"></a><code><span class="keyword">val</span> symlink_link : <a href="../../Fpath/index.html#type-t">Fpath.t</a> <span>&#45;&gt;</span> <span><span>(<a href="../../Fpath/index.html#type-t">Fpath.t</a>, string)</span> <a href="../../../../ocaml/Stdlib/index.html#type-result">Stdlib.result</a></span></code></div><div><p><code>symlink_link p</code> is <code>Ok l</code> if <code>p</code> is a symbolic link to <code>l</code>.</p></div></div><div><div class="spec value" id="val-symlink_stat" class="anchored"><a href="#val-symlink_stat" class="anchor"></a><code><span class="keyword">val</span> symlink_stat : <a href="../../Fpath/index.html#type-t">Fpath.t</a> <span>&#45;&gt;</span> <span><span>(<a href="../../../../ocaml/Unix/index.html#type-stats">Unix.stats</a>, string)</span> <a href="../../../../ocaml/Stdlib/index.html#type-result">Stdlib.result</a></span></code></div><div><p><code>symlink_stat p</code> is like <a href="index.html#val-stat"><code>stat</code></a> but if <code>p</code> is a symlink returns information about the link itself. If <code>p</code> is not a symlink then this is <a href="index.html#val-stat"><code>stat</code></a>.</p></div></div><h2 id="tmppaths"><a href="#tmppaths" class="anchor"></a>Temporary paths</h2><div><div class="spec type" id="type-tmp_name" class="anchored"><a href="#type-tmp_name" class="anchor"></a><code><span class="keyword">type</span> tmp_name = <span><span>(string <span>&#45;&gt;</span> string, unit, string)</span> <a href="../../../../ocaml/Stdlib/index.html#type-format">Stdlib.format</a></span></code></div><div><p>The type for temporary file name patterns. The string format is replaced by random hexadecimal US-ASCII characters.</p></div></div><div><div class="spec value" id="val-tmp" class="anchored"><a href="#val-tmp" class="anchor"></a><code><span class="keyword">val</span> tmp : <span>?&#8288;make_path:bool</span> <span>&#45;&gt;</span> <span>?&#8288;dir:<a href="../../Fpath/index.html#type-t">Fpath.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;name:<a href="index.html#type-tmp_name">tmp_name</a></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <span><span>(<a href="../../Fpath/index.html#type-t">Fpath.t</a>, string)</span> <a href="../../../../ocaml/Stdlib/index.html#type-result">Stdlib.result</a></span></code></div><div><p><code>tmp ~make_path ~dir name ()</code> is a file system path in <code>dir</code> that did not exist when the name was found. It may exist once the function returns though, prefer temporary <a href="../index.html#tmpfiles">files</a> and <a href="../index.html#tmpdirs">directories</a> creation functions to guarantee the creation of the temporary objects.</p><ul><li><code>name</code> is used to construct the filename of the file, see <a href="index.html#type-tmp_name"><code>tmp_name</code></a> for details. It defaults to <code>&quot;tmp-%s&quot;</code>.</li><li><code>dir</code> is the directory in which the temporary file is created. It defaults to <a href="../Dir/index.html#val-default_tmp"><code>Os.Dir.default_tmp</code></a><code> ()</code>.</li><li>If <code>make_path</code> is <code>true</code> (default) and <code>dir</code> does not exist the whole path to it is created as needed with permission <code>0o755</code> (readable and traversable by everyone, writable by the user).</li></ul></div></div></div></body></html>