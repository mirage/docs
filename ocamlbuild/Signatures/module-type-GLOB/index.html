<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>GLOB (ocamlbuild.Signatures.GLOB)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v1.1.1-1373-g2e7c1c75"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">ocamlbuild</a> &#x00BB; <a href="../index.html">Signatures</a> &#x00BB; GLOB</nav><header><h1>Module type <code>Signatures.GLOB</code></h1><p>A self-contained module implementing extended shell glob patterns who have an expressive power equal to boolean combinations of regular expressions.</p></header><div class="content"><aside><p>A globber is a boolean combination of basic expressions indented to work on pathnames. Known operators are <code>or</code>, <code>and</code> and <code>not</code>, which may also be written <code>|</code>, <code>&amp;</code> and <code>~</code>. There are also constants <code>true</code> and <code>false</code> (or <code>1</code> and <code>0</code>). Expression can be grouped using parentheses.</p><ul><li><code>true</code> matches anything,</li><li><code>false</code> matches nothing,</li><li><i>basic</i> <code>or</code> <i>basic</i> matches strings matching either one of the basic expressions,</li><li><i>basic</i> <code>and</code> <i>basic</i> matches strings matching both basic expressions,</li><li>not <i>basic</i> matches string that don't match the basic expression,</li><li><i>basic</i> matches strings that match the basic expression.</li></ul><p>A basic expression can be a constant string enclosed in double quotes, in which double quotes must be preceded by backslashes, or a glob pattern enclosed between a <code>&lt;</code> and a <code>&gt;</code>,</p><ul><li><code>&quot;</code><i>string</i><code>&quot;</code> matches the literal string <i>string</i>,</li><li><code>&lt;</code><i>glob</i><code>&gt;</code> matches the glob pattern <i>glob</i>.</li></ul><p>A glob pattern is an anchored regular expression in a shell-like syntax. Most characters stand for themselves. Character ranges are given in usual shell syntax between brackets. The star <code>*</code> stands for any sequence of characters. The joker '?' stands for exactly one, unspecified character. Alternation is achieved using braces <code>{</code>.</p><ul><li><i>glob1</i><i>glob2</i> matches strings who have a prefix matching <i>glob1</i> and the corresponding suffix matching <i>glob2</i>.</li><li><code>a</code> matches the string consisting of the single letter <code>a</code>.</li><li><code>{</code><i>glob1</i>,<i>glob2</i><code>}</code> matches strings matching <i>glob1</i> or <i>glob2</i>.</li><li><code>?</code> any one-letter string, excluding the slash.</li><li><code>*</code> matches all strings not containing a slash, including the empty one.</li><li><code>**/</code> the empty string, or any string ending with a slash.</li><li><code>/**</code> any string starting with a slash, or the empty string.</li><li><code>/**/</code> any string starting and ending with a slash.</li><li><code>[</code><i>c1</i>-<i>c2</i><i>c3</i>-<i>c4</i>...<code>]</code> matches characters in the range <i>c1</i> to <i>c2</i> inclusive, or in the range <i>c3</i> to <i>c4</i> inclusive. For instance <code>[a-fA-F0-9]</code> matches hexadecimal digits. To match the dash, put it at the end.</li></ul></aside><div><div class="spec type" id="type-globber" class="anchored"><a href="#type-globber" class="anchor"></a><code><span class="keyword">type</span> globber</code></div><div><p>The type representing globbers. Do not attempt to compare them, as they get on-the-fly optimizations.</p></div></div><div><div class="spec value" id="val-parse" class="anchored"><a href="#val-parse" class="anchor"></a><code><span class="keyword">val</span> parse : <span>?&#8288;dir:string</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-globber">globber</a></code></div><div><p><code>parse ~dir pattern</code> will parse the globber pattern <code>pattern</code>, optionally prefixing its patterns with <code>dir</code>.</p></div></div><div><div class="spec exception" id="exception-Parse_error" class="anchored"><a href="#exception-Parse_error" class="anchor"></a><code><span class="keyword">exception</span> <span class="exception">Parse_error</span> <span class="keyword">of</span> string</code></div><div><p>A descriptive exception raised when an invalid glob pattern description is given.</p></div></div><div><div class="spec value" id="val-eval" class="anchored"><a href="#val-eval" class="anchor"></a><code><span class="keyword">val</span> eval : <a href="index.html#type-globber">globber</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> bool</code></div><div><p><code>eval g u</code> returns <code>true</code> if and only if the string <code>u</code> matches the given glob expression. Avoid re-parsing the same pattern, since the automaton implementing the pattern is optimized on the fly. The first few evaluations are done using a time-inefficient but memory-efficient algorithm. It then compiles the pattern into an efficient but more memory-hungry data structure.</p></div></div></div></body></html>