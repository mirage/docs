<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>LTerm_widget (lambda-term.LTerm_widget)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v1.1.1-1373-g2e7c1c75"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">lambda-term</a> &#x00BB; LTerm_widget</nav><header><h1>Module <code>LTerm_widget</code></h1><p>Widgets for creating applications</p></header><nav class="toc"><ul><li><a href="#base-class">Base class</a></li><li><a href="#labels">Labels</a></li><li><a href="#containers">Containers</a></li><li><a href="#lines">Lines</a></li><li><a href="#buttons">Buttons</a></li><li><a href="#scrollbars">Scrollbars</a></li><li><a href="#running-in-a-terminal">Running in a terminal</a></li></ul></nav><div class="content"><h6 id="base-class"><a href="#base-class" class="anchor"></a>Base class</h6><aside><p>The base class. The parameter is the initial resource class. The resource class is the first part of all resource keys used by the widget.</p><p>For examples, buttons use the resources <code>&quot;button.focused.foreground&quot;</code>, <code>&quot;button.unfocused.bold&quot;</code>, ... so their resource class is <code>&quot;button&quot;</code>.</p></aside><div class="spec class" id="class-t" class="anchored"><a href="#class-t" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-t/index.html">t</a> : string <span>&#45;&gt;</span> <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><h6 id="labels"><a href="#labels" class="anchor"></a>Labels</h6><div><div class="spec class" id="class-label" class="anchored"><a href="#class-label" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-label/index.html">label</a> : string <span>&#45;&gt;</span> <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><div><p>A widget displaying a text.</p></div></div><h6 id="containers"><a href="#containers" class="anchor"></a>Containers</h6><div class="spec exception" id="exception-Out_of_range" class="anchored"><a href="#exception-Out_of_range" class="anchor"></a><code><span class="keyword">exception</span> <span class="exception">Out_of_range</span></code></div><div><div class="spec class-type" id="class-type-box" class="anchored"><a href="#class-type-box" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-box/index.html">box</a><span class="keyword">object</span> ... <span class="keyword">end</span></code></div><div><p>Type of widgets displaying a list of widget.</p></div></div><div><div class="spec class" id="class-hbox" class="anchored"><a href="#class-hbox" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-hbox/index.html">hbox</a> : <a href="class-type-box/index.html">box</a></code></div><div><p>A widget displaying a list of widgets, listed horizontally.</p></div></div><div><div class="spec class" id="class-vbox" class="anchored"><a href="#class-vbox" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-vbox/index.html">vbox</a> : <a href="class-type-box/index.html">box</a></code></div><div><p>A widget displaying a list of widgets, listed vertically.</p></div></div><div><div class="spec class" id="class-frame" class="anchored"><a href="#class-frame" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-frame/index.html">frame</a> : <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><div><p>A widget displayiing another widget in a box.</p></div></div><div><div class="spec class" id="class-modal_frame" class="anchored"><a href="#class-modal_frame" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-modal_frame/index.html">modal_frame</a> : <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><div><p>A widget displaying a frame around child widget. Unlike <a href="class-frame/index.html"><code>frame</code></a>, the child widget is not expanded to take all available space; instead the child is centered and frame is drawn around it. This is a utility class for creation of modal dialogs and similar widgets.</p></div></div><div><div class="spec class" id="class-spacing" class="anchored"><a href="#class-spacing" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-spacing/index.html">spacing</a> : ?&#8288;rows:int <span>&#45;&gt;</span> ?&#8288;cols:int <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="class-t/index.html">t</a></code></div><div><p>A widget used for layout control within boxes</p></div></div><h6 id="lines"><a href="#lines" class="anchor"></a>Lines</h6><div><div class="spec class" id="class-hline" class="anchored"><a href="#class-hline" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-hline/index.html">hline</a> : <a href="class-t/index.html">t</a></code></div><div><p>A horizontal line.</p></div></div><div><div class="spec class" id="class-vline" class="anchored"><a href="#class-vline" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-vline/index.html">vline</a> : <a href="class-t/index.html">t</a></code></div><div><p>A vertical line.</p></div></div><h6 id="buttons"><a href="#buttons" class="anchor"></a>Buttons</h6><div><div class="spec class" id="class-button" class="anchored"><a href="#class-button" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-button/index.html">button</a> : ?&#8288;brackets:<span>(string * string)</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><div><p>Normal button.</p></div></div><div><div class="spec class" id="class-checkbutton" class="anchored"><a href="#class-checkbutton" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-checkbutton/index.html">checkbutton</a> : string <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><div><p>Checkbutton. A button that can be in active or inactive state.</p></div></div><div class="spec class-type" id="class-type-radio" class="anchored"><a href="#class-type-radio" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span> 'a <a href="class-type-radio/index.html">radio</a><span class="keyword">object</span> ... <span class="keyword">end</span></code></div><div><div class="spec class" id="class-radiogroup" class="anchored"><a href="#class-radiogroup" class="anchor"></a><code><span class="keyword">class</span> 'a <a href="class-radiogroup/index.html">radiogroup</a> : <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><div><p>Radio group.</p></div></div><div><div class="spec class" id="class-radiobutton" class="anchored"><a href="#class-radiobutton" class="anchor"></a><code><span class="keyword">class</span> 'a <a href="class-radiobutton/index.html">radiobutton</a> : <span><span class="type-var">'a</span> <a href="class-radiogroup/index.html">radiogroup</a></span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><div><p>Radiobutton. The button which implements <a href="class-type-radio/index.html"><code>radio</code></a> object contract, so can be added to <a href="class-radiogroup/index.html"><code>radiogroup</code></a>.</p></div></div><h6 id="scrollbars"><a href="#scrollbars" class="anchor"></a>Scrollbars</h6><div><div class="spec class" id="class-adjustment" class="anchored"><a href="#class-adjustment" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-adjustment/index.html">adjustment</a> : <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><div><p>Adjustable integer value from (0..range-1)</p></div></div><div><div class="spec class-type" id="class-type-scrollable_adjustment" class="anchored"><a href="#class-type-scrollable_adjustment" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-scrollable_adjustment/index.html">scrollable_adjustment</a><span class="keyword">object</span> ... <span class="keyword">end</span></code></div><div><p>Interface between an adjustment and a scrollbar widget.</p></div></div><div class="spec class-type" id="class-type-scrollable_document" class="anchored"><a href="#class-type-scrollable_document" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-scrollable_document/index.html">scrollable_document</a><span class="keyword">object</span> ... <span class="keyword">end</span></code></div><div><div class="spec class-type" id="class-type-scrollable_private" class="anchored"><a href="#class-type-scrollable_private" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-scrollable_private/index.html">scrollable_private</a><span class="keyword">object</span> ... <span class="keyword">end</span></code></div><div><p>Interface used by the scrollbar widget to configure the scrollbar and get parameters needed for rendering</p></div></div><div><div class="spec class" id="class-scrollable" class="anchored"><a href="#class-scrollable" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-scrollable/index.html">scrollable</a> : <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><div><p>Main object implementing scroll logic for coordination between a scrollable wigdet and a scrollbar widget.</p></div></div><div><div class="spec class-type" id="class-type-default_scroll_events" class="anchored"><a href="#class-type-default_scroll_events" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-default_scroll_events/index.html">default_scroll_events</a><span class="keyword">object</span> ... <span class="keyword">end</span></code></div><div><p>Events exposed by scrollbar widgets. These may be applied to other widgets if required.</p></div></div><div><div class="spec class" id="class-vscrollbar" class="anchored"><a href="#class-vscrollbar" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-vscrollbar/index.html">vscrollbar</a> : ?&#8288;rc:string <span>&#45;&gt;</span> ?&#8288;default_event_handler:bool <span>&#45;&gt;</span> ?&#8288;width:int <span>&#45;&gt;</span> <span class="xref-unresolved">scrollable</span> <span>&#45;&gt;</span> <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><div><p>Vertical scrollbar widget.</p></div></div><div><div class="spec class" id="class-hscrollbar" class="anchored"><a href="#class-hscrollbar" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-hscrollbar/index.html">hscrollbar</a> : ?&#8288;rc:string <span>&#45;&gt;</span> ?&#8288;default_event_handler:bool <span>&#45;&gt;</span> ?&#8288;height:int <span>&#45;&gt;</span> <span class="xref-unresolved">scrollable</span> <span>&#45;&gt;</span> <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><div><p>Horizontal scrollbar widget.</p></div></div><div><div class="spec class" id="class-vslider" class="anchored"><a href="#class-vslider" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-vslider/index.html">vslider</a> : int <span>&#45;&gt;</span> <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><div><p>Vertical slider widget.</p></div></div><div><div class="spec class" id="class-hslider" class="anchored"><a href="#class-hslider" class="anchor"></a><code><span class="keyword">class</span>  <a href="class-hslider/index.html">hslider</a> : int <span>&#45;&gt;</span> <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><div><p>Horizontal slider widget.</p></div></div><h6 id="running-in-a-terminal"><a href="#running-in-a-terminal" class="anchor"></a>Running in a terminal</h6><div><div class="spec value" id="val-run" class="anchored"><a href="#val-run" class="anchor"></a><code><span class="keyword">val</span> run : <a href="../LTerm/index.html#type-t">LTerm.t</a> <span>&#45;&gt;</span> <span>?&#8288;save_state:bool</span> <span>&#45;&gt;</span> <span>?&#8288;load_resources:bool</span> <span>&#45;&gt;</span> <span>?&#8288;resources_file:string</span> <span>&#45;&gt;</span> <span class="xref-unresolved">t</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../../lwt/Lwt/index.html#type-t">Lwt.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../../lwt/Lwt/index.html#type-t">Lwt.t</a></span></code></div><div><p><code>run term ?save_state widget w</code> runs on the given terminal using <code>widget</code> as main widget. It returns when <code>w</code> terminates. If <code>save_state</code> is <code>true</code> (the default) then the state of the terminal is saved and restored when <code>w</code> terminates.</p><p>If <code>load_resources</code> is <code>true</code> (the default) then <code>resources_file</code> (which default to &quot;.lambda-termrc&quot; in the home directory) is loaded and the result is set to <code>w</code>.</p></div></div><div><div class="spec value" id="val-run_modal" class="anchored"><a href="#val-run_modal" class="anchor"></a><code><span class="keyword">val</span> run_modal : <a href="../LTerm/index.html#type-t">LTerm.t</a> <span>&#45;&gt;</span> <span>?&#8288;save_state:bool</span> <span>&#45;&gt;</span> <span>?&#8288;load_resources:bool</span> <span>&#45;&gt;</span> <span>?&#8288;resources_file:string</span> <span>&#45;&gt;</span> <span><a href="class-t/index.html">t</a> <a href="../../lwt_react/Lwt_react/index.html#type-event">Lwt_react.event</a></span> <span>&#45;&gt;</span> <span>unit <a href="../../lwt_react/Lwt_react/index.html#type-event">Lwt_react.event</a></span> <span>&#45;&gt;</span> <span class="xref-unresolved">t</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../../lwt/Lwt/index.html#type-t">Lwt.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../../lwt/Lwt/index.html#type-t">Lwt.t</a></span></code></div><div><p>This function works in the same way as <a href="index.html#val-run"><code>run</code></a> but also takes two <a href="../../lwt_react/Lwt_react/index.html#type-event"><code>Lwt_react.event</code></a> parameters. The first one should contain <a href="class-t/index.html"><code>LTerm_widget.t</code></a> widget and makes it new topmost layer in UI. The second message removes the topmost level from UI. All layers are redrawn, from bottom to up, but only the topmost layer gets keyboard events delivered to it. This allows to implement things like modal dialogs.</p></div></div><div><div class="spec value" id="val-prepare_simple_run" class="anchored"><a href="#val-prepare_simple_run" class="anchor"></a><code><span class="keyword">val</span> prepare_simple_run : unit <span>&#45;&gt;</span> <span>(<span class="xref-unresolved">t</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../../lwt/Lwt/index.html#type-t">Lwt.t</a></span>)</span> * <span>(<span class="xref-unresolved">t</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit)</span> * <span>(<span>?&#8288;step:<a href="../../react/React/index.html#type-step">React.step</a></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit)</span> * <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> unit)</span></code></div><div><p><code>prepare_simple_run ()</code> returns a tuple <code>(do_run, push_layer, pop_layer,
     exit)</code> -- functions useful for creating simple UI.</p><p><code>do_run w</code> where w is a widget runs the given widget in a terminal over stdout, loading resources from <code>.lambda-termrc</code>, saving state and restoring it on exit from ui. Example: <code>do_run my_frame</code></p><p><code>push_layer w</code> where w is a widget is a callback to add w as a new modal layer to UI. Example: <code>button#on_click (push_layer my_modal_dialog)</code>.</p><p><code>pop_layer</code> is a callback to destroy the topmost modal layer. Example: <code>cancel_button#on_click pop_layer</code>.</p><p><code>exit</code> is a callback to exit the UI. Example: <code>exit_button#on_click exit</code></p></div></div></div></body></html>